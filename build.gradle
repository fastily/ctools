apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven'

description="ctools build script"
version="1.0.0"

compileJava {
    sourceCompatibility = "1.8"
    targetCompatibility = "1.8"
}

repositories {
    jcenter()
}

dependencies {
    compile 'commons-cli:commons-cli:1.3.1'
    compile "org.json:json:20160810"

    compile project(":jwiki")
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.5'
}

jar {
  archiveName = "MTC-1.0.0.jar"

  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }
  }
    
  manifest {
    attributes 'Main-Class': 'mtc.App'
  }
  
  exclude "**/bots/**", "**/reports/**", "**/tools/**"
}