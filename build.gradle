apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'maven'

description="ctools build script"
version="1.0.0"

compileJava {
    sourceCompatibility = "1.8"
    targetCompatibility = "1.8"
}

repositories {
    jcenter()
}

dependencies {
    compile 'commons-cli:commons-cli:1.3.1'
    compile "org.json:json:20160810"

    compile project(":jwiki-extras")
}

task wrapper(type: Wrapper) {
    gradleVersion = '3.2.1'
}

jar {
  archiveName = "MTC-0.1.1.jar"

  from {
    configurations.compile.collect { it.isDirectory() ? it : zipTree(it) }
    configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }
  }
    
  manifest {
    attributes 'Main-Class': 'mtc.MTCui'
  }
  
  exclude "**/test/**", "enwp/**", "up/**", "**/README.md", "**/ToDo.md"
}